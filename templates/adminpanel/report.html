{% extends 'adminpanel/base.html' %}

{% load static %}

{% load humanize %}

{% block content %}
<!-- Start Content-->




<div class="container">
    <div class="row">
        <div class="col">
            <h4 class="ml-3 mt-4 mb-4"><u>  ALL PRODUCTS </u></h4>
            
        </div>
    </div>

    <div class="col-12" id="tables">
        <table class="table table-striped table-bordered table-hover bg-white bg-body shadow" id="myTable1">
            <thead>
                <tr>
                    <th>No.</th>
                    <th>Pruduct Image</th>
                    <th>Product Name</th>
                    <th>Category</th>
                    <th>Brand</th>
                    <th>Price</th>
                    <th>Stock</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                <tr>
                    <td class="align-middle">
                        <center>{{forloop.counter}}</center>
                    </td>

                    <td class="table-user"><center>
                        <img src="{{ product.image1.url }}" alt="table-user"
                            style="height: 100px; width:100px; border:1px solid rgb(201, 201, 201)" />
                    
                        </center>
                    </td>
                    <td class="align-middle">
                        <center> {{ product.product_name }}</center>
                    </td>
                    <td class="align-middle">
                        <center> {{ product.category.category_name }}</center>
                    </td>
                    <td class="align-middle">
                        <center> {{ product.brand.brand_name }}</center>
                    </td>
                    <td class="align-middle">
                        <center> ₹{{ product.price | intcomma }}</center>
                    </td>
                    <td class="align-middle">
                        <center> {{ product.stock }}</center>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>


<div class="container ">
    <h4 class="ml-3 mt-4 mb-4"><u>ALL ORDERS</u></h4>
    <form action="" method="get" class="mb-4">
        <div class="form-row d-flex justify-content-around">
            <div class="form-group col-6 col-md-3">
                <label>From</label>
                <input type="date" class="form-control" name="from">
            </div>
            <div class="form-group col-6 col-md-3">
                <label>To</label>
                <input type="date" class="form-control" name="to">
            </div>
            <div class="form-group col-6 col-md-3 mt-5">
                <input type="submit" class="btn  btn-outline-primary" value="Filter">
            </div>
        </div>
    </form>

    <div class="col-12" id="tables">
        <table class="table table-striped table-bordered table-hover bg-white bg-body shadow" id="myTable2">
            <thead>
                <tr>
                    <th>No.</th>
                    <th>Customer Name</th>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Discount</th>
                    <th>Quantity</th>
                    <th>Order Status</th>
                    <th>Update date</th>
                </tr>
            </thead>
            <tbody>
                {% for order in orders %}
                <tr>
                    <th scope="row"> {{forloop.counter}} </th>
                    <td>{{order.user.full_name}}</td>
                    <td>{{ order.product }}</td>
                    <td>
                        <center>
                            {{ order.product_price }}</center>
                    </td>
                    <td>
                        <center>
                        
                                {% if order.discount %}
                                    <span class="offer"> {{ order.discount }}</span>
                                {% else %}
                                    ---
                                {% endif %}
                         
                        </center>
                    </td>
                    <td>
                        <center>{{order.quantity}}</center>
                    </td>
                    <td>
                        <center>
                            {{order.status}}
                        </center>
                    </td>
                    <td>
                        {{order.updated_at | naturaltime}}
                    </td>
                  
                </tr>
                {% endfor %}

            </tbody>
        </table>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col">
            <h4 class="ml-3 mt-4 mb-4"><u>ALL BRANDS</u></h4>
        </div>
    </div>

    {% include 'adminpanel/includes/alerts.html' %}

    <div class="col-12" id="tables">
        <table class="table table-striped table-bordered table-hover bg-white bg-body shadow" id="myTable">
            <thead>
                <tr>
                    <th>No.</th>
                    <th>Brand Image</th>
                    <th>Brand Name</th>
                </tr>
            </thead>
            <tbody>
                {% for brand in brands %}
                <tr>
                    <td class="align-middle">
                        <center>{{forloop.counter}}</center>
                    </td>

                    <td class="table-user"><center>
                        <img src="{{ brand.brand_image.url }}" alt="table-user"
                            style="height: 100px; width:100px; border:1px solid rgb(201, 201, 201)" />
                    
                        </center>
                    </td>
                    <td class="align-middle">
                        <center> {{ brand.brand_name }}</center>
                    </td>
                    
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>





<!-- Footer Start -->
<footer class="footer">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <script>document.write(new Date().getFullYear())</script> © Hyper - Coderthemes.com
            </div>
            <div class="col-md-6">
                <div class="text-md-end footer-links d-none d-md-block">
                    <a href="javascript: void(0);">About</a>
                    <a href="javascript: void(0);">Support</a>
                    <a href="javascript: void(0);">Contact Us</a>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- end Footer -->



<script>
    function approve() {
        event.preventDefault();
        var linkURL = event.currentTarget.href;
        var name = event.currentTarget.name;
        console.log(linkURL)
        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {
            if (result.isConfirmed) {
                Swal.fire(
                    'Deleted!',
                    'Your file has been deleted.',
                    'success'
                )
            }
        })
    }
</script>


<script>
    $(document).ready(function () {
        $('#myTable').DataTable();
    });

    $(document).ready(function () {
        $('#myTable1').DataTable();
    });

    $(document).ready(function () {
        $('#myTable2').DataTable();
    });
</script>


{% endblock %}